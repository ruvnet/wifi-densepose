# wifi-densepose-cli

[![Crates.io](https://img.shields.io/crates/v/wifi-densepose-cli.svg)](https://crates.io/crates/wifi-densepose-cli)
[![Documentation](https://docs.rs/wifi-densepose-cli/badge.svg)](https://docs.rs/wifi-densepose-cli)
[![License](https://img.shields.io/crates/l/wifi-densepose-cli.svg)](LICENSE)

Command-line interface for WiFi-DensePose, including the Mass Casualty Assessment Tool (MAT) for
disaster response operations.

## Overview

`wifi-densepose-cli` ships the `wifi-densepose` binary -- a single entry point for operating the
WiFi-DensePose system from the terminal. The primary command group is `mat`, which drives the
disaster survivor detection and triage workflow powered by the `wifi-densepose-mat` crate.

Built with [clap](https://docs.rs/clap) for argument parsing,
[tabled](https://docs.rs/tabled) + [colored](https://docs.rs/colored) for rich terminal output, and
[indicatif](https://docs.rs/indicatif) for progress bars during scans.

## Features

- **Survivor scanning** -- Start continuous or one-shot scans across disaster zones with configurable
  sensitivity, depth, and disaster type.
- **Triage management** -- List detected survivors sorted by triage priority (Immediate / Delayed /
  Minor / Deceased / Unknown) with filtering and output format options.
- **Alert handling** -- View, acknowledge, resolve, and escalate alerts generated by the detection
  pipeline.
- **Zone management** -- Add, remove, pause, and resume rectangular or circular scan zones.
- **Data export** -- Export scan results to JSON or CSV for integration with external USAR systems.
- **Simulation mode** -- Run demo scans with synthetic detections (`--simulate`) for testing and
  training without hardware.
- **Multiple output formats** -- Table, JSON, and compact single-line output for scripting.

### Feature flags

| Flag  | Default | Description |
|-------|---------|-------------|
| `mat` | yes     | Enable MAT disaster detection commands |

## Quick Start

```bash
# Install
cargo install wifi-densepose-cli

# Run a simulated disaster scan
wifi-densepose mat scan --disaster-type earthquake --sensitivity 0.8 --simulate

# Check system status
wifi-densepose mat status

# List detected survivors (sorted by triage priority)
wifi-densepose mat survivors --sort-by triage

# View pending alerts
wifi-densepose mat alerts --pending

# Manage scan zones
wifi-densepose mat zones add --name "Building A" --bounds 0,0,100,80
wifi-densepose mat zones list --active

# Export results to JSON
wifi-densepose mat export --output results.json --format json

# Show version
wifi-densepose version
```

## Command Reference

```text
wifi-densepose
  mat
    scan        Start scanning for survivors
    status      Show current scan status
    zones       Manage scan zones (list, add, remove, pause, resume)
    survivors   List detected survivors with triage status
    alerts      View and manage alerts (list, ack, resolve, escalate)
    export      Export scan data to JSON or CSV
  version       Display version information
```

## Related Crates

| Crate | Role |
|-------|------|
| [`wifi-densepose-mat`](../wifi-densepose-mat) | MAT disaster detection engine |
| [`wifi-densepose-core`](../wifi-densepose-core) | Shared types and traits |
| [`wifi-densepose-signal`](../wifi-densepose-signal) | CSI signal processing |
| [`wifi-densepose-hardware`](../wifi-densepose-hardware) | ESP32 hardware interfaces |
| [`wifi-densepose-wasm`](../wifi-densepose-wasm) | Browser-based MAT dashboard |

## License

MIT OR Apache-2.0
